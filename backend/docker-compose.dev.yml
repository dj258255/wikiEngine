# 개발 환경 Override
# 사용법: docker compose -f docker-compose.yml -f docker-compose.dev.yml --env-file .env.dev up -d

services:
  mysql:
    container_name: wiki-mysql-dev
    restart: unless-stopped

  app:
    container_name: wiki-app-dev
    restart: unless-stopped
    profiles:
      - with-app

  influxdb:
    container_name: wiki-influxdb-dev
    restart: unless-stopped

  prometheus:
    container_name: wiki-prometheus-dev
    restart: unless-stopped
    extra_hosts:
      - "app:host-gateway"

  mysql-exporter:
    container_name: wiki-mysql-exporter-dev
    restart: unless-stopped

  loki:
    container_name: wiki-loki-dev
    restart: unless-stopped

  promtail:
    container_name: wiki-promtail-dev
    restart: unless-stopped

  node-exporter:
    container_name: wiki-node-exporter-dev
    restart: unless-stopped

  cadvisor:
    container_name: wiki-cadvisor-dev
    restart: unless-stopped

  grafana:
    container_name: wiki-grafana-dev
    restart: unless-stopped
